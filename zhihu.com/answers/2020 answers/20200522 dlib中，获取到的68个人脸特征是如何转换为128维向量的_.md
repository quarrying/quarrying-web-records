#! https://www.zhihu.com/question/396162548/answer/1238537979

[comment]: <> (Answer URL: https://www.zhihu.com/question/396162548/answer/1238537979)
[comment]: <> (Question Title: dlib中，获取到的68个人脸特征是如何转换为128维向量的?)
[comment]: <> (Author Name: 采石工)
[comment]: <> (Create Time: 2020-05-22 11:52:22)

把 "人脸的特征点" 当成 "人脸的特征" 是人们对人脸识别的一个常见误区, 另外一个是: 把人脸检测 (输出人脸的位置和大小) 当成人脸识别 (输出人脸的身份或判断两张人脸是否是同一个人). 下面对这两个概念进行叙述:

人脸特征点, 又称为人脸关键点 (face landmark), 是人脸上具有明确语义的坐标点, 如鼻尖, 嘴角, 眼角等. 在人脸识别中, 常用人脸关键点来做人脸对齐, 具体做法是: 利用最小二乘法求解当前人脸图像的关键点与预定义的标准人脸关键点 (通常是由统计得到的) 之间的空间变换矩阵 (一般是相似变换矩阵), 再在人脸图像上进行该空间变换矩阵对应的变换. 人脸对齐后的图像是标准尺寸的, 而且减小了人脸姿态, 尺度和偏移 (想想看, 相似变换矩阵中包含了旋转, 尺度和平移参数) 对人脸识别的影响. 在过去, 人们还常在人脸关键点邻域内提取特征, 不过这种做法现在已经不常见了, 都是直接将对齐后的人脸图像送入网络.

人脸特征 (face feature) 或人脸特征向量, 在深度学习中, 一般指的是分类层前面一层 (若把人脸识别当成分类任务) 或最后一层 (若把人脸识别当成度量学习任务) 的特征映射 (feature map), 它的维度是网络结构决定的.

回到问题: 题主问题中的 68 个特征应该称为 68 个 特征点, 128 维向量才是人脸特征. 至于 "(68 个)人脸关键点是如何转换为 (128 维)特征向量的", 答案是: 从人脸关键点是得不到特征向量的. 人脸图像通过人脸关键点进行对齐, 得到对齐后的人脸, 其再经过各种模型 (如耳熟能详的 CNN) 才能得到特征向量 (或者在对齐人脸上直接提取手工特征).

